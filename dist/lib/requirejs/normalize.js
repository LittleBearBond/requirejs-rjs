define([],function(){function e(e,r,i){if(e.match(u)||e.match(o))return e;e=s(e);var a=i.match(o),f=r.match(o);return f&&(!a||a[1]!=f[1]||a[2]!=f[2])?t(e,r):n(t(e,r),i)}function t(e,t){e.substr(0,2)=="./"&&(e=e.substr(2));if(e.match(u)||e.match(o))return e;var n=t.split("/"),r=e.split("/");n.pop();while(curPart=r.shift())curPart==".."?n.pop():n.push(curPart);return n.join("/")}function n(e,t){var n=t.split("/");n.pop(),t=n.join("/")+"/",i=0;while(t.substr(i,1)==e.substr(i,1))i++;while(t.substr(i,1)!="/")i--;t=t.substr(i+1),e=e.substr(i+1),n=t.split("/");var r=e.split("/");out="";while(n.shift())out+="../";while(curPart=r.shift())out+=curPart+"/";return out.substr(0,out.length-1)}var r=/([^:])\/+/g,s=function(e){return e.replace(r,"$1/")},o=/[^\:\/]*:\/\/([^\/])*/,u=/^(\/|data:)/,a=function(t,n,r){n=s(n),r=s(r);var i=/@import\s*("([^"]*)"|'([^']*)')|url\s*\((?!#)\s*(\s*"([^"]*)"|'([^']*)'|[^\)]*\s*)\s*\)/ig,o,u,t;while(o=i.exec(t)){u=o[3]||o[2]||o[5]||o[6]||o[4];var a;a=e(u,n,r);var f=o[5]||o[6]?1:0;t=t.substr(0,i.lastIndex-u.length-f-1)+a+t.substr(i.lastIndex-f-1),i.lastIndex=i.lastIndex+(a.length-u.length)}return t};return a.convertURIBase=e,a.absoluteURI=t,a.relativeURI=n,a});